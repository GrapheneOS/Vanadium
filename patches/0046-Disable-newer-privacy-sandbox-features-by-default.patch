From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: quh4gko8 <88831734+quh4gko8@users.noreply.github.com>
Date: Mon, 25 Sep 2023 09:26:57 +0000
Subject: [PATCH] Disable newer privacy sandbox features by default

---
 components/privacy_sandbox/privacy_sandbox_features.cc | 2 +-
 services/network/public/cpp/features.cc                | 2 +-
 third_party/blink/common/features.cc                   | 4 ++--
 3 files changed, 4 insertions(+), 4 deletions(-)

diff --git a/components/privacy_sandbox/privacy_sandbox_features.cc b/components/privacy_sandbox/privacy_sandbox_features.cc
index dbd12a82cabaf..19996e134a7a1 100644
--- a/components/privacy_sandbox/privacy_sandbox_features.cc
+++ b/components/privacy_sandbox/privacy_sandbox_features.cc
@@ -20,7 +20,7 @@ const base::FeatureParam<std::string> kPrivacySandboxAdsNoticeCCTAppId{
     kAndroidGoogleSearchAppIdName};
 #endif  // BUILDFLAG(IS_ANDROID)
 
-BASE_FEATURE(PrivacySandboxSettings4, base::FEATURE_ENABLED_BY_DEFAULT);
+BASE_FEATURE(PrivacySandboxSettings4, base::FEATURE_DISABLED_BY_DEFAULT);
 
 const char kPrivacySandboxSettings4ConsentRequiredName[] = "consent-required";
 const char kPrivacySandboxSettings4NoticeRequiredName[] = "notice-required";
diff --git a/services/network/public/cpp/features.cc b/services/network/public/cpp/features.cc
index 7dd8e53b54132..5386ed2a9ad89 100644
--- a/services/network/public/cpp/features.cc
+++ b/services/network/public/cpp/features.cc
@@ -487,7 +487,7 @@ BASE_FEATURE(kUpdateRequestForCorsRedirect,
 // Kill switch for the Topics API.
 BASE_FEATURE(kBrowsingTopics,
              "BrowsingTopics",
-             base::FEATURE_ENABLED_BY_DEFAULT);
+             base::FEATURE_DISABLED_BY_DEFAULT);
 
 // Enable the shared storage API. Note that enabling this feature does not
 // automatically expose this API to the web, it only allows the element to be
diff --git a/third_party/blink/common/features.cc b/third_party/blink/common/features.cc
index 080c003ec1112..f64b9fd802513 100644
--- a/third_party/blink/common/features.cc
+++ b/third_party/blink/common/features.cc
@@ -195,11 +195,11 @@ BASE_FEATURE(BrowsingTopicsBypassIPIsPubliclyRoutableCheck,
 // feature has to be enabled first (i.e. `kBrowsingTopics` is enabled, and,
 // either a valid Origin Trial token exists or `kPrivacySandboxAdsAPIsOverride`
 // is enabled.)
-BASE_FEATURE(BrowsingTopicsDocumentAPI, base::FEATURE_ENABLED_BY_DEFAULT);
+BASE_FEATURE(BrowsingTopicsDocumentAPI, base::FEATURE_DISABLED_BY_DEFAULT);
 
 // Decoupled with the main `kBrowsingTopics` feature, so it allows us to
 // decouple the server side configs.
-BASE_FEATURE(BrowsingTopicsParameters, base::FEATURE_ENABLED_BY_DEFAULT);
+BASE_FEATURE(BrowsingTopicsParameters, base::FEATURE_DISABLED_BY_DEFAULT);
 // The periodic topics calculation interval.
 BASE_FEATURE_PARAM(base::TimeDelta,
                    kBrowsingTopicsTimePeriodPerEpoch,
