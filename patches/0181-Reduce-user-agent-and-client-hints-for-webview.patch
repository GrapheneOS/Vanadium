From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: quh4gko8 <88831734+quh4gko8@users.noreply.github.com>
Date: Thu, 12 Dec 2024 07:09:40 +0000
Subject: [PATCH] Reduce user agent and client hints for webview

---
 android_webview/browser/aw_field_trials.cc | 4 ----
 android_webview/common/aw_features.cc      | 2 +-
 2 files changed, 1 insertion(+), 5 deletions(-)

diff --git a/android_webview/browser/aw_field_trials.cc b/android_webview/browser/aw_field_trials.cc
index d97f8c90fb302..8d92da91992c1 100644
--- a/android_webview/browser/aw_field_trials.cc
+++ b/android_webview/browser/aw_field_trials.cc
@@ -82,10 +82,6 @@ void AwFieldTrials::RegisterFeatureOverrides(base::FeatureList* feature_list) {
   // Disable launch_handler on WebView.
   aw_feature_overrides.DisableFeature(::features::kAndroidWebAppLaunchHandler);
 
-  // Disable Reducing User Agent minor version on WebView.
-  aw_feature_overrides.DisableFeature(
-      blink::features::kReduceUserAgentMinorVersion);
-
   // Disable fenced frames on WebView.
   aw_feature_overrides.DisableFeature(blink::features::kFencedFrames);
 
diff --git a/android_webview/common/aw_features.cc b/android_webview/common/aw_features.cc
index 6ac38ececa474..99d3c93a49f53 100644
--- a/android_webview/common/aw_features.cc
+++ b/android_webview/common/aw_features.cc
@@ -122,7 +122,7 @@ BASE_FEATURE(kWebViewUseInitialNetworkStateAtStartup,
 
 // This enables reducing webview user-agent android version and device model.
 BASE_FEATURE(kWebViewReduceUAAndroidVersionDeviceModel,
-             base::FEATURE_DISABLED_BY_DEFAULT);
+             base::FEATURE_ENABLED_BY_DEFAULT);
 
 // This enables WebView crashes.
 BASE_FEATURE(kWebViewEnableCrash, base::FEATURE_DISABLED_BY_DEFAULT);
