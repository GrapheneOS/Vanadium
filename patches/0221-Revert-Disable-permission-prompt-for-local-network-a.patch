From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: fgei <fgei@gmail.com>
Date: Tue, 24 Jun 2025 11:56:04 +0000
Subject: [PATCH] Revert "Disable permission prompt for local network access in
 Android"

This reverts commit 5f3411d630b89772d468371f5827f4ac3ffb3c76.
---
 .../browser/permissions/permission_controller_impl.cc | 11 -----------
 1 file changed, 11 deletions(-)

diff --git a/content/browser/permissions/permission_controller_impl.cc b/content/browser/permissions/permission_controller_impl.cc
index e521cf0befa81..bc4dd4c643f2a 100644
--- a/content/browser/permissions/permission_controller_impl.cc
+++ b/content/browser/permissions/permission_controller_impl.cc
@@ -159,17 +159,6 @@ bool IsRequestAllowed(
   for (const auto& permission : permissions) {
     PermissionType permission_type =
         blink::PermissionDescriptorToPermissionType(permission);
-#if BUILDFLAG(IS_ANDROID)
-    if (permission_type == blink::PermissionType::LOCAL_NETWORK_ACCESS) {
-      render_frame_host->GetOutermostMainFrame()->AddMessageToConsole(
-          blink::mojom::ConsoleMessageLevel::kWarning,
-          blink::GetPermissionString(permission_type) +
-              " permission has been blocked because it was requested "
-              "in Android, which is currently unsupported.");
-      is_permission_allowed = false;
-      continue;
-    }
-#endif // BUILDFLAG(IS_ANDROID)
     PermissionResult result =
         VerifyContextOfCurrentDocument(permission_type, render_frame_host);
 
