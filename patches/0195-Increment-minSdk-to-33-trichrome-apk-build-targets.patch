From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: quh4gko8 <88831734+quh4gko8@users.noreply.github.com>
Date: Tue, 29 Apr 2025 05:31:59 +0000
Subject: [PATCH] Increment minSdk to 33 trichrome apk build targets

---
 chrome/android/chrome_public_apk_tmpl.gni | 2 ++
 chrome/android/trichrome.gni              | 5 +++++
 2 files changed, 7 insertions(+)

diff --git a/chrome/android/chrome_public_apk_tmpl.gni b/chrome/android/chrome_public_apk_tmpl.gni
index bc7ed79e305d6..758a6891f4571 100644
--- a/chrome/android/chrome_public_apk_tmpl.gni
+++ b/chrome/android/chrome_public_apk_tmpl.gni
@@ -268,6 +268,8 @@ template("chrome_common_apk_or_module_tmpl") {
 
     if (defined(invoker.min_sdk_version)) {
       min_sdk_version = invoker.min_sdk_version
+    } else if (_is_trichrome) {
+      min_sdk_version = 33
     }
     if (defined(invoker.version_name)) {
       version_name = invoker.version_name
diff --git a/chrome/android/trichrome.gni b/chrome/android/trichrome.gni
index eca31e969fe01..1cad12746dfcf 100644
--- a/chrome/android/trichrome.gni
+++ b/chrome/android/trichrome.gni
@@ -100,6 +100,11 @@ template("trichrome_library_apk_tmpl") {
     app_as_shared_lib = true
     version_name = chrome_version_name
     version_code = _version_code
+    if (defined(invoker.min_sdk_version)) {
+      min_sdk_version = invoker.min_sdk_version
+    } else {
+      min_sdk_version = 33
+    }
 
     # Only the .build_config.json is used from this target, and it's fine if
     # it contains more assets than we need (always use the 64_32 variant).
